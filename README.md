Дробаха Александр, 37_qa_plus — дипломный проект

Структура проекта

```

### Структура проекта

| Файл                                 | Назначение                                  |
|--------------------------------------|---------------------------------------------|
| `configuration.py`                   | Конфигурация сервера и эндпоинтов           |
| `data.py`                            | Тело запроса для создания заказа            |
| `test_sender_stand_request.py`       | Автотест API: создание и получение заказа   |
| `BD_Zapros.txt`                      | SQL-задания 1 и 2 с запросами к базе данных |
| `SQL_1.png` / `SQL_1_1.png`          | Скриншоты выполнения SQL-задания 1          |
| `SQL_2.png` / `SQL_2_1.png`          | Скриншоты выполнения SQL-задания 2          |
| `AutoTest_1.png` / `AutoTest_2.png`  | Скриншоты успешного запуска автотеста       |
| `.gitignore`                         | Исключения из отслеживания Git              |
| `README.md`                          | Описание проекта и структура репозитория    |

### SQL-задания

#### Задание 1
Вывести список логинов курьеров и количество заказов в статусе «В доставке»  
(поле `inDelivery = true`).  
Запрос приведён в файле **`BD_Zapros.txt`**.  
Результаты выполнения показаны на скриншотах **`SQL_1.png`** и **`SQL_1_1.png`**.

#### Задание 2
Вывести трекеры заказов и их статусы, вычисляемые по полям `finished`, `cancelled`, `inDelivery`.  
Реализована логика возврата статусов:
- `2`, если заказ завершён (`finished = true`);  
- `-1`, если отменён (`cancelled = true`);  
- `1`, если в доставке (`inDelivery = true`);  
- `0` — во всех остальных случаях.  

Запрос также приведён в файле **`BD_Zapros.txt`**.  
Результаты выполнения — на скриншотах **`SQL_2.png`** и **`SQL_2_1.png`**.

---

### Скриншоты автотеста
- **`AutoTest_1.png`** и **`AutoTest_2.png`** показывают успешное выполнение теста в Visual Studio Code:  


# Автоматизация теста к API сервиса заказов

## Описание

Автотест проверяет базовый сценарий создания и получения заказа по трек-номеру через API учебного стенда.  
Сценарий:
1. Клиент создаёт заказ (POST `/api/v1/orders`);
2. Сохраняется номер трека заказа;
3. По треку выполняется GET-запрос `/api/v1/orders/track`;
4. Проверяется, что код ответа равен `200`.

---

## Подготовка окружения

1. Установите зависимости:
   ```bash
   pip install requests pytest
   ```

2. Убедитесь, что в файле `configuration.py` указан **актуальный URL стенда**:
   ```python
   URL_SERVICE = "https://<Имя пользователя>.serverhub.praktikum-services.ru"
   CREAT_ORDERS = "/api/v1/orders"
   ```

---

## Запуск теста

### Вариант 1. Через `pytest` в терминале (с отображением print)

```
python -m pytest -s -q test_sender_stand_request.py
```

- Параметр `-s` показывает вывод `print()` прямо в терминале.
- Параметр `-q` делает результат короче.

Пример вывода:
```
Заказ создан. Номер трека: 112233
Данные заказа:
{'track': 112233, 'status': 'created', 'deliveryDate': '2025-11-04'}
1 passed in 2.15s
```

---

### Вариант 2. Через встроенную панель тестов (Testing)

1. В VS Code нажмите иконку колбы.  
2. Настройте тестовую систему → выберите **pytest**.  
3. Запустите тест кнопкой справа от его имени.  
4. Результат (`passed` / `failed`) появится в панели **Test Results**.  

---

## Ожидаемый результат

- Код ответа при создании заказа — `201` или `202`;
- Код ответа при получении заказа по треку — `200`;
- В выводе терминала отображаются данные созданного заказа.
