# Дробаха Александр, 37_qa_plus — дипломный проект  

---

## Структура проекта

| Файл                                   | Назначение                                  |
|----------------------------------------|---------------------------------------------|
| `configuration.py`                     | Конфигурация сервера и эндпоинтов           |
| `data.py`                              | Тело запроса для создания заказа            |
| `sender_stand_request.py`              | Функции отправки запросов к API             |
| `order_creation_and_retrieval_test.py` | Автотест: создание и получение заказа       |
| `.gitignore`                           | Исключения из отслеживания Git              |
| `README.md`                            | Документация проекта                        |

---

## Автоматизация теста к API сервиса заказов

### Описание

Автотест проверяет базовый сценарий создания и получения заказа по трек-номеру через API учебного стенда.  

Сценарий:
1. Клиент создаёт заказ (`POST /api/v1/orders`);
2. Сохраняется номер трека заказа;
3. По треку выполняется `GET`-запрос `/api/v1/orders/track`;
4. Проверяется, что код ответа равен `200`.

---

## Подготовка окружения

1. Установите зависимости:
   ```bash
   pip install requests pytest
   ```

2. Убедитесь, что в файле `configuration.py` указан актуальный URL стенда:
   ```python
   URL_SERVICE = "https://<Имя_пользователя>.serverhub.praktikum-services.ru"
   CREAT_ORDERS = "/api/v1/orders"
   ```

---

## Запуск теста

### Вариант 1. Через `pytest` в терминале (с отображением print)
```bash
python -m pytest -s -q order_creation_and_retrieval_test.py
```

- Параметр `-s` показывает вывод `print()` прямо в терминале.  
- Параметр `-q` делает результат короче.

Пример вывода:
```
Заказ создан. Номер трека: 112233
Данные заказа:
{'track': 112233, 'status': 'created', 'deliveryDate': '2025-11-04'}
1 passed in 2.15s
```

---

### Вариант 2. Через встроенную панель тестов (Testing)
1. В VS Code нажмите иконку колбы.  
2. Настройте тестовую систему → выберите `pytest`.  
3. Запустите тест кнопкой справа от его имени.  
4. Результат (`passed` / `failed`) появится в панели **Test Results**.  

---

## Ожидаемый результат

- Код ответа при создании заказа — `201` или `202`;  
- Код ответа при получении заказа по треку — `200`;  
- В выводе терминала отображаются данные созданного заказа;  
- Все тесты завершаются со статусом `passed`.

---
